{% extends 'base.html' %}
{% block content %}
<div class="card">
  <h2 style="margin:0 0 10px 0;">Suggestions</h2>
  <form class="inline" method="get" action="/suggestions">
    <label for="min_edge">Min edge</label>
    <input type="number" step="0.01" id="min_edge" name="min_edge" value="{{ '%.2f' % min_edge }}" />
    <button class="btn" type="submit">Filter</button>
  </form>
  {% if suggestions %}
  <table class="table" style="margin-top:12px;">
    <thead><tr><th>Competition</th><th>Fixture</th><th>Pick</th><th>Prob</th><th>Book</th><th>Price</th><th>Edge</th><th>Kelly</th><th>Match ID</th></tr></thead>
    <tbody>
      {% for s in suggestions %}
      <tr>
        <td>{{ s['comp'] }}</td>
        <td>{{ s['home'] }} vs {{ s['away'] }}</td>
        <td>{{ s['sel'] }}</td>
        <td>{{ '%.1f%%' % (100*s['model_prob']) }}</td>
        <td>{{ s['book'] }}</td>
        <td>{{ '%.2f' % s['price'] }}</td>
        <td>{{ '%.2f%%' % (100*s['edge']) }}</td>
        <td>{{ '%.2f' % s['kelly'] }}</td>
        <td class="muted">{{ s['match_id'] }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
    <div class="muted">No suggestions available.</div>
  {% endif %}
</div>
{% endblock %}